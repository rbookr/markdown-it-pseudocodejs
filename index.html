<!DOCTYPE html>
<head>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"/>
	<link rel="stylesheet" type="text/css" href="./pseudocode.js-1.1.0/pseudocode.min.css">
	<style>
	#input {
		display: block;
		font-size: 12pt;
		padding-top: 0.5em;
		padding-left: 0.1em;
		font-family: monospace;
	}
	#button {
		margin-top: 1em;
		width: 120px;
		height: 50px;
		font-size: 14pt;
	}
	#output {
		margin: 20px;
	}

	.container {
		display: grid;
		grid-template-columns: 1fr 1fr;
	}

	.markdown-body {
		box-sizing: border-box;
		min-width: 200px;
		max-width: 980px;
		margin: 0 auto;
		padding: 45px;
	}

	@media (max-width: 767px) {
		.markdown-body {
			padding: 15px;
		}
	}
	</style>
</head>
<body>
		<!-- <button id="button">Pseudocode!</button> -->
	<div class="container">
		<textarea id="input" type="textarea" rows=15, cols=80 spellcheck="false">
::: pseudocode		
\begin{algorithm}
\caption{Hello World}
\begin{algorithmic}
\FUNCTION{HelloWorld}{}
		\RETURN \CALL{Print}{``Hello, world''}
\ENDFUNCTION
\end{algorithmic}
\end{algorithm}
:::</textarea>
		<div id="output" class="markdown-body"></div>
	</div>

<pre id="readme" style="display: none;">

# ReadMe

- [github仓库位置](https://github.com/rbookr/markdown-it-pseudocodejs)
- [pseudocode.js仓库位置](https://github.com/SaswatPadhi/pseudocode.js)

## 例子

```html
<pre id="quicksort" class="pseudocode">
    % This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
    \begin{algorithm}
    \caption{Quicksort}
    \begin{algorithmic}
    \PROCEDURE{Quicksort}{$A, p, r$}
        \IF{$p < r$} 
            \STATE $q = $ \CALL{Partition}{$A, p, r$}
            \STATE \CALL{Quicksort}{$A, p, q - 1$}
            \STATE \CALL{Quicksort}{$A, q + 1, r$}
        \ENDIF
    \ENDPROCEDURE
    \PROCEDURE{Partition}{$A, p, r$}
        \STATE $x = A[r]$
        \STATE $i = p - 1$
        \FOR{$j = p$ \TO $r - 1$}
            \IF{$A[j] < x$}
                \STATE $i = i + 1$
                \STATE exchange
                $A[i]$ with $A[j]$
            \ENDIF
            \STATE exchange $A[i]$ with $A[r]$
        \ENDFOR
    \ENDPROCEDURE
    \end{algorithmic}
    \end{algorithm}
</pre>
```


::: pseudocode

% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$A, p, r$}
		\IF{$p < r$} 
				\STATE $q = $ \CALL{Partition}{$A, p, r$}
				\STATE \CALL{Quicksort}{$A, p, q - 1$}
				\STATE \CALL{Quicksort}{$A, q + 1, r$}
		\ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$A, p, r$}
		\STATE $x = A[r]$
		\STATE $i = p - 1$
		\FOR{$j = p$ \TO $r - 1$}
				\IF{$A[j] < x$}
						\STATE $i = i + 1$
						\STATE exchange
						$A[i]$ with $A[j]$
				\ENDIF
				\STATE exchange $A[i]$ with $A[r]$
		\ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}

:::

## Grammar
There are several packages for typesetting algorithms in LaTeX, among which 
[`algorithmic`](http://mirror.ctan.org/tex-archive/macros/latex/contrib/algorithms/algorithms.pdf)
package is the most simple and intuitive, and is chosen by IEEE in its 
[LaTeX template file](http://www.ctan.org/tex-archive/macros/latex/contrib/IEEEtran). 
The grammar of pseudocode.js is mostly compatible with `algorithmic` package with 
a few improvement to make it even more easier to use.

Commands for typesetting algorithms must be enclosed in an `algorithmic` environment:
```tex
\begin{algorithmic}
# A precondition is optional
\REQUIRE <text>
# A postcondition is optional
\ENSURE <text>
# An input is optional
\INPUT <text>
# An output is optional
\OUTPUT <text>
# The body of your code is a <block>
\STATE ...
\end{algorithmic}
```

`<block>` can include zero or more `<statement>`, `<control>`,  `<comment>` 
and `<function>`:
```tex
# A <statement> can be:
\STATE <text>
\RETURN <text>
\PRINT <text>

# A <control> can be:
# A conditional
\IF{<condition>}
    <block>
\ELIF{<condition>}
    <block>
\ELSE
    <block>
\ENDIF
# Or a loop: \WHILE, \FOR or \FORALL
\WHILE{<condition>}
    <block>
\ENDWHILE
# Or a repeat: \REPEAT <block> \UNTIL{<cond>}
\REPEAT
    <block>
\UNTIL{<cond>}

# A <function> can by defined by either \FUNCTION or \PROCEDURE
# Both are exactly the same
\FUNCTION{<name>}{<params>}
    <block> 
\ENDFUNCTION

# A <comment> is:
\COMMENT{<text>}
```

A `<text>`, `<block>`, or `<condition>` may include the following:
```tex
% Normal characters
Hello world
% Escaped characters
\\, \{, \}, \$, \&, \#, \% and \_
% Math formula
$i \gets i + 1$
% Function call
\CALL{<func>}{<args>}
% Keywords
\AND, \OR, \XOR, \NOT, \TO, \DOWNTO, \TRUE, \FALSE, \BREAK, \CONTINUE
% LaTeX's sizing commands
\tiny, \scriptsize, \footnotesize, \small \normalsize, \large, \Large, \LARGE, 
\huge, \HUGE
% LaTeX's font declarations
\rmfamily, \sffamily, \ttfamily
\upshape, \itshape, \slshape, \scshape
\bfseries, \mdseries, \lfseries
% LaTeX's font commands
\textnormal{<text>}, \textrm{<text>}, \textsf{<text>}, \texttt{<text>}
\textup{<text>}, \textit{<text>}, \textsl{<text>}, \textsc{<text>}
\uppercase{<text>}, \lowercase{<text>}
\textbf, \textmd, \textlf
% And it's possible to group text with braces
normal text {\small the size gets smaller} back to normal again
```

> **Note**
> Although pseudocode.js recognizes some LaTeX commands, it is by no means a full-featured LaTeX implementation in JavaScript.
> It only support a subset of LaTeX commands that are most relevant to typesetting algorithms.


To display the caption of an algorithm, use `algorithm` environment as a 'float' wrapper :
```tex
\begin{algorithm}
\caption{The caption of your algorithm}
\begin{algorithmic}
\STATE ...
\end{algorithmic}
\end{algorithm}
```

### Options

#### Global Options

`pseudocode.renderElement` can accept an option object as the last argument, such as

```js
pseudocode.renderElement(document.getElementById("quicksort"),
                         { lineNumber: true });
```

The following options are currently supported:

 * `captionCount`:
   Reset the caption counter to this number.
 * `commentDelimiter`:
   The delimiters used to start and end a comment region.
   Note that only line comments are supported.
 * `indentSize`:
   The indent size of inside a control block, e.g. if, for etc.
   The unit must be in 'em'.
 * `lineNumber`:
   Whether line numbering is enabled.
 * `lineNumberPunc`:
   The punctuation that follows line number.
 * `noEnd`:
   Whether block ending, like `end if`, end procedure`, etc.
   are showned.
 * `titlePrefix`:
   The title prefix (defaults to "Algorithm") for captions.

The default values of these options are:

```js
var DEFAULT_OPTIONS = {
    indentSize: '1.2em',
    commentDelimiter: '//',
    lineNumber: false,
    lineNumberPunc: ':',
    noEnd: false,
    captionCount: undefined
};
```

</pre>

<div id="readme_rendered" class="markdown-body">
12312312312
</div>

<script src="./bundle.js"></script>
</body>